---
name: create-pdf
description: Generate professional PDF documents using pandoc or weasyprint
license: MIT
user-invocable: true
allowed-tools:
  - bash
  - write_file
  - read_file
---

# PDF Document Generator

This skill creates properly formatted PDF documents using external tools.

## Prerequisites

Before using this skill, ensure one of these tools is available:
- **pandoc** with LaTeX: `pandoc --version` (best for text/markdown)
- **weasyprint**: `weasyprint --version` (best for HTML styling)
- **wkhtmltopdf**: `wkhtmltopdf --version` (HTML to PDF)

## Workflow

### Step 1: Create Content as Markdown

First, write the content to a temporary markdown file:

```bash
cat > /tmp/document.md << 'EOF'
# Document Title

## Section 1
Content here...

## Section 2
- Bullet point 1
- Bullet point 2

EOF
```

### Step 2: Convert to PDF

**Option A: Using pandoc (recommended)**
```bash
pandoc /tmp/document.md -o output.pdf \
  --pdf-engine=xelatex \
  -V geometry:margin=1in \
  -V fontsize=11pt
```

**Option B: Using pandoc with HTML intermediate**
```bash
pandoc /tmp/document.md -o /tmp/document.html
wkhtmltopdf /tmp/document.html output.pdf
```

**Option C: Using weasyprint (for styled HTML)**
```bash
# First create styled HTML
cat > /tmp/document.html << 'EOF'
<!DOCTYPE html>
<html>
<head>
  <style>
    body { font-family: Arial, sans-serif; margin: 40px; }
    h1 { color: #333; border-bottom: 2px solid #007bff; }
    h2 { color: #555; }
  </style>
</head>
<body>
  <h1>Title</h1>
  <p>Content...</p>
</body>
</html>
EOF

weasyprint /tmp/document.html output.pdf
```

### Step 3: Verify Output

```bash
file output.pdf
ls -la output.pdf
```

## Important Notes

1. **Never try to write raw PDF binary** - always use conversion tools
2. **Check tool availability** before starting with `which pandoc` or `which weasyprint`
3. **For complex layouts**, prefer HTML+CSS with weasyprint
4. **For academic/text documents**, prefer pandoc with LaTeX

## Example: Complete Document Generation

```bash
# Check available tools
which pandoc weasyprint wkhtmltopdf 2>/dev/null

# Create markdown content
cat > /tmp/report.md << 'EOF'
---
title: "Project Report"
author: "Generated by Vibe"
date: "2024"
---

# Executive Summary

This report provides an overview of...

# Analysis

## Key Findings

1. Finding one
2. Finding two

## Recommendations

- Recommendation A
- Recommendation B

# Conclusion

In summary...
EOF

# Generate PDF
pandoc /tmp/report.md -o report.pdf --pdf-engine=xelatex -V geometry:margin=1in

# Verify
file report.pdf && echo "PDF created successfully!"
```
